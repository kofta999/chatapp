<!DOCTYPE html>
<html>
  <head>
    <title>Chat App</title>
    <script src="utils.js"></script>
    <script>
      function goToCreateChat() {
        window.location.href = "create-chat.html";
      }
      function loadChats() {
        return sendAuthenticatedRequest(
          "http://localhost:3000/chats",
          "GET"
        ).then((res) => {
          console.log(res);
          renderChats(res.data);
        });
      }

      function renderChats(chats) {
        // Assuming chats is an array of chat objects
        const chatContainer = document.getElementById("chat-container");

        chats.forEach((chat) => {
          const chatElement = document.createElement("div");
          const chatLink = document.createElement("a");
          chatLink.href = `chat.html?chat=${chat._id}`;
          chatLink.textContent = `${chat.name} (${chat.participants})`;
          chatElement.appendChild(chatLink);
          chatContainer.appendChild(chatElement);
        });
      }
    </script>
  </head>
  <body onload="loadChats()">
    <h1>Chat App</h1>
    <div id="chat-container"></div>
    <button onclick="goToCreateChat()">Create New Chat</button>
  </body>
</html>
